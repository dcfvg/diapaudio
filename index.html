<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>diapodio</title>
    <link rel="stylesheet" href="style.css" />
    <script src="timestamp-utils.js" defer></script>
    <script src="app.js" defer></script>
  </head>
  <body>
    <div class="app">
      <main class="app__main">
        <section class="viewer">
          <div class="dropzone" id="dropzone">
            <div class="dropzone__content">
              <div class="dropzone__hero">
                <h1 class="dropzone__title">diapodio</h1>
                <p class="dropzone__lead">Playback photos sync with recordings of that day.</p>
              </div>

              <div class="dropzone__assist" aria-label="How to prepare your folder">
                <ol class="dropzone__steps">
                  <li class="dropzone__step">
                    <span class="dropzone__step-icon" aria-hidden="true">â‘ </span>
                    <div>
                      <h3 class="dropzone__step-title">Collect your files</h3>
                      <p class="dropzone__step-text">Place the audio recording and the matching photos in <strong>one folder</strong>.</p>
                    </div>
                  </li>
                  <li class="dropzone__step">
                    <span class="dropzone__step-icon" aria-hidden="true">â‘¡</span>
                    <div>
                      <h3 class="dropzone__step-title">Use timestamps</h3>
                      <p class="dropzone__step-text">Name each file with its capture time, for example <code>2025-01-01_08-00-00.jpg</code> <br/>(or make sure they contain metadata)</p>
                    </div>
                  </li>
                  <li class="dropzone__step">
                    <span class="dropzone__step-icon" aria-hidden="true">â‘¢</span>
                    <div>
                      <h3 class="dropzone__step-title">Drop the folder</h3>
                      <p class="dropzone__step-text">Drag it here or browse for it below to replay the day.</p>
                    </div>
                  </li>
                </ol>
              </div>

              <div class="dropzone__cta" role="group" aria-label="Start syncing">
                <p class="dropzone__cta-text" id="dropzone-message">Drop your prepared folder anywhere in this area.</p>
                <button type="button" class="dropzone__browse" id="browse-trigger">Choose a folder</button>
              </div>

              <div class="dropzone__body">
                <p class="dropzone__note">Nothing leaves your computer â€” no uploads, no servers, just your session.</p>
                <p class="dropzone__note">Tip: keeping your recorder, camera, and phone on the same time makes syncing effortless.</p>
                <p class="dropzone__note">For detailed instructions and source code, see the <a href="https://github.com/dcfvg/diapaudio" target="_blank" rel="noopener noreferrer">README</a>.</p>
              </div>

              <div class="dropzone__loader hidden" id="dropzone-loader">
                <div class="loader-spinner"></div>
                <p>Loading files...</p>
              </div>
            </div>
            <input type="file" webkitdirectory directory multiple id="folder-input" hidden />
          </div>
          <div class="viewer__content hidden" id="viewer-content">
            <div class="viewer__slideshow">
              <div class="slideshow__container" id="slideshow-container">
                <!-- Images will be dynamically inserted here -->
              </div>
              <div class="slideshow__preview hidden" id="slideshow-preview"></div>
              <div class="viewer__clock" id="viewer-clock">
                <svg class="clock-svg clock-analog" id="clock-analog" viewBox="0 0 100 100">
                  <circle class="clock-face" cx="50" cy="50" r="48" />
                  <line class="clock-tick" x1="50" y1="2" x2="50" y2="8" />
                  <line class="clock-tick" x1="98" y1="50" x2="92" y2="50" />
                  <line class="clock-tick" x1="50" y1="98" x2="50" y2="92" />
                  <line class="clock-tick" x1="2" y1="50" x2="8" y2="50" />
                  <line class="clock-hour-hand" id="clock-hour-hand" x1="50" y1="50" x2="50" y2="30" />
                  <line class="clock-minute-hand" id="clock-minute-hand" x1="50" y1="50" x2="50" y2="18" />
                  <line class="clock-second-hand" id="clock-second-hand" x1="50" y1="50" x2="50" y2="12" />
                  <circle class="clock-center" cx="50" cy="50" r="3" />
                </svg>
                <div class="clock-digital hidden" id="clock-digital">
                  <div class="clock-time" id="clock-time">00:00:00</div>
                </div>
                <div class="clock-date" id="clock-date">01/01/2025</div>
              </div>
              <div class="viewer__meta">
              </div>
              <div class="viewer__hud" id="viewer-hud">
                <div class="timeline hidden" id="timeline">
                  <div class="timeline__toolbar">
                    <button class="control-button control-button--icon" id="play-toggle" disabled aria-label="Play">
                      <span class="control-button__icon" aria-hidden="true">â–¶</span>
                      <span class="visually-hidden control-button__sr-label">Play</span>
                    </button>
                    <div class="timeline__scrubber">
                      <div class="timeline__main">
                        <div class="timeline__gradient" id="timeline-gradient"></div>
                        <div class="timeline__gridlines" id="timeline-gridlines"></div>
                        <div class="timeline__axis" id="timeline-axis"></div>
                        <div class="timeline__tracks" id="timeline-tracks"></div>
                        <div class="timeline__images" id="timeline-images"></div>
                        <div class="timeline__cursor" id="timeline-cursor"></div>
                        <div class="timeline__seeker" id="timeline-seeker"></div>
                        <div class="timeline__hover-preview hidden" id="timeline-hover-preview">
                          <div class="timeline__hover-preview-images" id="timeline-hover-preview-images"></div>
                          <div class="timeline__hover-preview-time" id="timeline-hover-preview-time"></div>
                        </div>
                      </div>
                    </div>
                    <div class="timeline__inputs">
                      <label class="speed-control">
                        <span>Speed</span>
                        <select id="speed-select" class="speed-control__select">
                          <option value="0.5">0.5Ã—</option>
                          <option value="0.75">0.75Ã—</option>
                          <option value="1" selected>1Ã—</option>
                          <option value="1.25">1.25Ã—</option>
                          <option value="1.5">1.5Ã—</option>
                          <option value="1.8">1.8Ã—</option>
                          <option value="2">2Ã—</option>
                          <option value="2.5">2.5Ã—</option>
                          <option value="3">3Ã—</option>
                        </select>
                      </label>
                      <label class="delay-control">
                        <span>Delay</span>
                        <div class="delay-control__inputs">
                          <input type="text" id="delay-field" value="0:00" inputmode="numeric" autocomplete="off" placeholder="0:00" />
                        </div>
                      </label>
                      <button type="button" class="export-button" id="export-fcp-button" title="Export Final Cut Pro XML">
                        <span class="export-button__icon">ðŸ“¤</span>
                        <span class="export-button__label">XML</span>
                      </button>
                    </div>
                  </div>
                  <div class="timeline__notices hidden" id="timeline-notices"></div>
                </div>
              </div>
            </div>
          </div>
        </section>
      </main>
    </div>
  </body>
</html>
